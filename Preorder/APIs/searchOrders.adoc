= Search Orders

To get the pre-orders you will need to call `/searchOrders` endpoint with post method and in the filters, orderTypeId should be SALES_ORDER and facilityId should either be PRE_ORDER_PARKING or BACKORDER_PARKING. Further this API will use the solr doc with ORDER docType.

=== *Request*
*Endpoint*
----
POST /api/searchOrders HTTP/1.1

Host: example.com
----
*Headers*
----
Content-Type:​ application/json

Authorization: Bearer <token_value>

Accept: application/json
----
Following parameters can be passed in the filters:

* To filter the order as per orderDate, date can be select as orderBefore/orderAfter "orderDate: [2022-01-01T05:00:00Z TO 2022-02-02T04:59:59Z]"
* To filter the order as per promisedDatetime, date can be select as promisedBefore/promisedAfter "promisedDatetime: [2022-01-01T05:00:00Z TO 2022-02-02T04:59:59Z]"
* To filter the order as per loyalty status, date can be select as LoyaltyCustomer/LoyaltyPlusOrder "orderNotes: LoyaltyPlusOrder"

*Body*
[source, json]
----------------------------------------------------------------
{
    "viewSize":10,
    "viewIndex":0,
    "queryString":"**",
    "queryFields":"parentProductId productId parentProductName productName goodIdentifications orderId search_orderIdentifications customerPartyName","groupByField":"orderId",
    "groupLimit":10000,
    "filters":[
        "orderTypeId: SALES_ORDER",
        "facilityId:PRE_ORDER_PARKING OR facilityId:BACKORDER_PARKING",
        "orderStatusId: ORDER_APPROVED",
        "!orderItemStatusId: ITEM_CANCELLED"
    ]
}
----------------------------------------------------------------
=== *Response*

*Status Code*
----
HTTP/1.1​ ​200​ ​OK
----

*Headers*
----
Content-Type: application/json
----
*Body*
[source, json]
----------------------------------------------------------------
{
    "grouped": {
        "orderId": {
            "groups": [
                {
                    "doclist": {
                        "docs": [
                            {
                                "_version_": 1722923544406392800,
                                "carrierPartyId": "_NA_",
                                "categoryHierarchy": [
                                    "0/Shopify Catalog/",
                                    "1/Shopify Catalog/Browse Root/",
                                    "2/Shopify Catalog/Browse Root/Browse Root/SH_ECOM_STORE_NA/"
                                ],
                                "companyIds": [
                                    "NN_COMPANY"
                                ],
                                "correspondingPoId": "11045",
                                "currencyUomId": "USD",
                                "customerPartyId": "10473",
                                "customerPartyName": "Deepak Dixit",
                                "docType": "ORDER",
                                "docType-identifier": "ORDER-NN11049-00001",
                                "entryDate": "2022-01-25T10:52:13.209Z",
                                "facilityId": "PRE_ORDER_PARKING",
                                "facilityName": "Preorder Parking",
                                "facilityTypeId": "PRE_ORDER",
                                "goodIdentifications": [
                                    "SHOPIFY_PROD_SKU/S22011802",
                                    "UPCA/B22011802"
                                ],
                                "groupId": "ORDER-NN11049",
                                "identifier": "NN11049-00001",
                                "internalName": "42350352531709",
                                "isPromo": "N",
                                "itemCreatedDate": "2022-01-25T10:52:13.209Z",
                                "itemExternalId": "11942081134845",
                                "keywordSearchText": [
                                    "ORDER-NN11049",
                                    "12222",
                                    "Cultsport Solid Running T-Shirt",
                                    "42350352531709",
                                    "Teal Blue / S"
                                ],
                                "orderDate": "2022-01-25T10:51:33Z",
                                "orderDateString": "1-25-2022 10:51 AM",
                                "orderFacilityId": "PRE_ORDER_PARKING",
                                "orderFacilityName": "Preorder Parking",
                                "orderGrandTotal": 32.33,
                                "orderId": "NN11049",
                                "orderIdentifications": [
                                    "SHOPIFY_ORD_ID/4642990817533",
                                    "SHOPIFY_ORD_NAME/#1288",
                                    "SHOPIFY_ORD_NO/288"
                                ],
                                "orderItemAttrName": [
                                    "PreOrderItemProperty"
                                ],
                                "orderItemAttrValue": [
                                    "Pre-order item"
                                ],
                                "orderItemSeqId": "00001",
                                "orderItemStatusId": "ITEM_HOLD",
                                "orderItemSubTotal": 30,
                                "orderItemTypeId": "PRODUCT_ORDER_ITEM",
                                "orderName": "#1288",
                                "orderPaymentMethodTypeId": [
                                    "EXT_SHOP_VISA"
                                ],
                                "orderRoles": [
                                    "0/Placing Customer/",
                                    "1/Bill-From Vendor/NN_COMPANY/",
                                    "1/Ship-From Vendor/NN_COMPANY/",
                                    "0/Bill-To Customer/",
                                    "0/End-User Customer/",
                                    "1/End-User Customer/10473/",
                                    "0/Bill-From Vendor/",
                                    "1/Bill-To Customer/10473/",
                                    "1/Ship-To Customer/10473/",
                                    "0/Ship-From Vendor/",
                                    "1/Placing Customer/10473/",
                                    "0/Ship-To Customer/"
                                ],
                                "orderSize": 1,
                                "orderStatusDesc": "Approved",
                                "orderStatusId": "ORDER_APPROVED",
                                "orderTypeId": "SALES_ORDER",
                                "parentProductId": "12220",
                                "parentProductName": "Cultsport Solid Running T-Shirt",
                                "placingPartyId": "10473",
                                "placingPartyName": "Deepak Dixit",
                                "priceType": "List Price",
                                "primaryProductCategoryId": "10030",
                                "primaryProductCategoryName": "SH_ECOM_STORE_NA",
                                "productId": "12222",
                                "productName": "Teal Blue / S",
                                "productStoreId": "SH_ECOM_STORE",
                                "productStoreName": "Shopify E-Commerce Store",
                                "productTypeDesc": "Finished Good",
                                "productTypeId": "FINISHED_GOOD",
                                "promisedDatetime": "2022-03-01T18:30:00Z",
                                "quantity": 1,
                                "requiredPermissions": [
                                    "ORDERMGR_ADMIN",
                                    "NN_COMPANY/ORDERMGR_VIEW",
                                    "NN_COMPANY/ORDERMGR_ROLE_VIEW/10473"
                                ],
                                "salesChannelDesc": "Web Channel",
                                "salesChannelEnumId": "WEB_SALES_CHANNEL",
                                "shipmentMethodTypeId": "STOREPICKUP",
                                "shippingMethod": [
                                    "Not Applicable Store Pickup"
                                ],
                                "shipToCity": "Salt Lake City",
                                "shipToCountry": "United States",
                                "shipToState": "Utah",
                                "spellchecker": "Teal Blue / S",
                                "statusSeqId": 5,
                                "title": "Order NN11049 placed by Deepak Dixit on 1-25-2022 10:51 AM.",
                                "unitListPrice": 30,
                                "unitPrice": 30,
                                "updatedDatetime": "2022-01-25T10:52:13.426Z"
                            }
                        ]
                    }

                }
            ]
        }
    }
}
----------------------------------------------------------------
